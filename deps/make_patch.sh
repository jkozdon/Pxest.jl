#!/bin/sh
mkdir ____PATCH_DIR
tar xzf downloads/p4est-*.tar.gz && mv p4est-* ____PATCH_DIR/p4est-orig/
tar xzf downloads/p4est-*.tar.gz && mv p4est-* ____PATCH_DIR/p4est-update/
/bin/cp p4est/src/Makefile.am           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est.c               ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est.h               ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_algorithms.c    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_algorithms.h    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_balance.c       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_balance.h       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_base.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_base.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_bits.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_bits.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_communication.c ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_communication.h ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_connectivity.c  ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_connectivity.h  ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_connrefine.c    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_extended.h      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_geometry.c      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_geometry.h      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_ghost.c         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_ghost.h         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_io.c            ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_io.h            ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_iterate.c       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_iterate.h       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_lnodes.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_lnodes.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_mesh.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_mesh.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_nodes.c         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_nodes.h         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_plex.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_plex.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_points.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_points.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_search.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_search.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_to_p8est.h      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_vtk.c           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_vtk.h           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_wrap.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P4est_wrap.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est.c               ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est.h               ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_communication.c ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_communication.h ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_extended.h      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_ghost.c         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_ghost.h         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_lnodes.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_lnodes.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_profile.c       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_profile.h       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_vtk.c           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P6est_vtk.h           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est.c               ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est.h               ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_algorithms.c    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_algorithms.h    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_balance.c       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_balance.h       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_bits.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_bits.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_communication.c ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_communication.h ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_connectivity.c  ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_connectivity.h  ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_connrefine.c    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_extended.h      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_geometry.c      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_geometry.h      ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_ghost.c         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_ghost.h         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_io.c            ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_io.h            ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_iterate.c       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_iterate.h       ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_lnodes.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_lnodes.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_mesh.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_mesh.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_nodes.c         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_nodes.h         ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_plex.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_plex.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_points.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_points.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_search.c        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_search.h        ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_tets_hexes.c    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_tets_hexes.h    ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_vtk.c           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_vtk.h           ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_wrap.c          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/P8est_wrap.h          ____PATCH_DIR/p4est-update/src/
/bin/cp p4est/src/Pre_config.h.in       ____PATCH_DIR/p4est-update/src/
cd ____PATCH_DIR
diff -Naur p4est-orig p4est-update > ../p4est.patch
cd ..
rm -rf ____PATCH_DIR
